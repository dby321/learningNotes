# MongoDB笔记

## 1. MongoDB相关概念

### 业务使用场景

- 高并发、高存储、高可用、高扩展性场景下MySql有点力不从心
- 应用场景
  - 社交场景
  - 游戏场景
  - 物流场景
  - 物联网场景
  - 视频直播
- 数据操作的共同点
  - 数据量大
  - 写入操作频繁
  - 价值比较低，对事务要求不高
  - 需求会经常变动
  - 应用需要高存储

### 主要数据库的对比

| 特性           | MySQL                        | Redis                              | MongoDB                            | Elasticsearch                        |
| -------------- | ---------------------------- | ---------------------------------- | ---------------------------------- | ------------------------------------ |
| 类型           | 关系型数据库 (RDBMS)         | 键值存储 (In-Memory Data Store)    | 文档型数据库 (NoSQL)               | 搜索引擎 (Distributed Search Engine) |
| 数据模型       | 表结构，行与列               | 键值对                             | JSON-like 文档                     | JSON-like 文档，优化搜索             |
| 数据一致性     | 强一致性                     | 最终一致性（取决于配置）           | 最终一致性                         | 最终一致性                           |
| 主要使用场景   | 交易系统，需要ACID属性的场合 | 缓存，实时分析，计数器等           | 内容管理，大数据，灵活模式         | 全文搜索，日志分析，推荐系统         |
| 支持的数据类型 | 固定数据类型                 | 字符串, 哈希, 列表, 集合, 有序集合 | BSON（二进制JSON）                 | JSON                                 |
| 查询语言       | SQL                          | 自定义命令集                       | MongoDB 查询语言                   | Query DSL (Domain Specific Language) |
| 扩展性         | 垂直扩展为主，水平扩展较难   | 易于水平扩展                       | 易于水平扩展                       | 易于水平扩展                         |
| 内存中处理     | 磁盘为基础，内存缓存         | 完全在内存中处理                   | 可选内存映射文件                   | 基于磁盘但有内存缓存机制             |
| 分片支持       | 不直接支持                   | 支持                               | 内置分片                           | 内置分片                             |
| 复制支持       | 支持主从复制                 | 支持主从复制                       | 支持副本集                         | 支持节点间复制                       |
| 事务支持       | 支持ACID事务                 | 不支持完整事务                     | 单文档操作是原子的，多文档事务支持 | 不支持事务                           |
| 性能           | 对复杂查询优化较好           | 极速读写，特别适合简单查询         | 对非结构化数据查询性能好           | 搜索和分析性能非常好                 |

## 2. MongoDB安装

> 参考菜鸟教程

![局部截取_20241212_184059](images/MongoDB笔记/局部截取_20241212_184059.png)

## 3. SpringData MongoDB

https://github.com/spring-projects/spring-data-examples.git