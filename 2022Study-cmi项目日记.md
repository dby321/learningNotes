# 2022Study-CMI项目日记



## 2022.7.13项目学习

1. form表单的:model=fileParam不要改，已经在dataTable.js封装好了
2. 金额要做filters过滤
3. getApprovalStatus可以调用
4. 分页直接粘过来，不用变
5. $refs可以向子组件传值

## MyBatis

> 拼sql时，<when>里面有字符串要加单引号
>
> 发请求时，传参不加单引号

## 2022.7.13问题汇总

### 前端

1. 采购申请名称 字段过长，要省略号显示
2. 总金额要显示后两位
3. 申请人，申请部门还没显示；会议部分还没显示
4. 新增页面 部分字段只需要显示文字，不需要input
5. 新增页面 字段能查出来的需要查
6. 新增页面 申请部门显示错误
7. 新增页面 采购申请状态 起草应该是超链接
8. 新增页面 项目会议纪要信息栏 表格需显示
9. 所有页面 日期显示颜色错误【已修复】

### 后端

1. 逐行打印日志，便于开发调试
2. 方法需要更加见名知义，命名不能过长

## 2022.7.13工作汇报

### 前端

修复 表单绑定的数据名

### 后端

进行中 写查询的service和mapper,封装VO，参考老框架代码

### 明天计划

修复现有提出的问题，并继续写查询

## 2022.7.19

申请部门 调用什么借口？？

## 2022.7.21

- 组件和引入名应一致
- 重置和查询另起一行
- 注释写在国际化字段上方
- 查询审批状态字典
- 可以调用getApproveStatus
- 断点看下modeData怎么改
- get方法改delete方法
- 统一逻辑 全部是起草且申请人是登录用户 才能删除
- clacPurItemAmout(arguments[0],'amount')语法搜索
- 抽空看培训视频
- 建议采购方式数据字典
- add or create后端方法改名
- 后端方法加上注释
- Mapper调用公共的

## 2022.8.4任务描述

【项目查询与维护】新增项目关闭与重启功能（**仅对Capex项目进行改造（P开头的项目）**）

- 【项目查询与维护】页面，新增【项目关闭】与【项目重启】按钮
- 【项目关闭】：仅可对**正在启用状态的项目进行关闭**，选中项目后点击按钮弹窗提示“是否关闭已选择的项目”点击确定后则关闭成功，关闭成功后该项目**不允许发起新采购、不允许对框架合同发起新的订单，新做接收，合同，接收付款二合一，IRU付款，在途的以上单据仅支持退回，不允许继续审批**
- 【项目重启】：仅可对状态为关闭的项目进行重启，选中项目后点击按钮弹窗提示“是否重新启用已选择的项目”点击确定后则重新启用成功。**后续需要启用审批流，在审批完成后自动开启**。
  - 若订单中有多个项目预算，其中一个项目关闭后，关闭的项目不允许做接收，接收付款二合一，IRU付款，其他未关闭的项目可以正常进行接收，接收付款二合一，IRU付款。
  - 【项目关闭】【项目重启】记录在项目查询与维护的【项目状态】中，状态为以下四种：
    - EBS导入成功：代表项目可正常进行使用
    - EBS导入失败：代表项目未成功导入EBS，该项目不可使用
    - 项目冻结：冻结状态不允许使用该项目新做采购
    - 项目关闭：关闭成功后该项目不允许发起新采购、不允许对框架合同发起新的订单，新做接收，合同，接收付款二合一，IRU付款，在途的以上单据仅支持退回，不允许继续审批。



## 2022.8.4 代码问题

- 不用使用failed1这样的命名
- ![1659596171949](C:\Users\waterplants\AppData\Roaming\Typora\typora-user-images\1659596171949.png)
- “error”写成常量值进行调用
- ![1659596200852](C:\Users\waterplants\AppData\Roaming\Typora\typora-user-images\1659596200852.png)
- equals时，常量放前面
- ![1659596216766](C:\Users\waterplants\AppData\Roaming\Typora\typora-user-images\1659596216766.png)

